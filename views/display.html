<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


    <!-- Font -->
    <link href="https://fonts.googleapis.com/css?family=Abril+Fatface&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:200,400&display=swap" rel="stylesheet">

    <link href="display.css" rel="stylesheet">

    <title>Bazarre. | Results</title>
</head>

<body>

    <nav class="navbar navbar-expand-lg">
        <a class="navbar-brand" href="./">B.</a>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
            </ul>
            <form class="form-inline my-2 my-lg-0">
                <button id="refresh" class="btn">Refresh</button>
            </form>
            <form class="form-inline my-2 my-lg-0" method="GET" action="/">
                <button id="bookmarks" class="btn" type="submit" href="./">Bookmarks</button>
            </form>
        </div>
    </nav>

    <div class="card-group" style="margin-left: 5%; margin-right: 5%;">
            <div hidden id="card2" class="card" style="width: 10rem;"> <img style="max-height: 300px; max-width: 300px;" src="' + results_2[0][2] + '" class="card-img-top"> <div class="card-body"> <small>' + web2 + '</small> <h5 class="card-title" style="color: white">' + results_2[0][0] + '</h5><a id="dislike1" href="#" class="btn btn-primary">Dislike</a><a id="bookmark1" href="#" class="btn btn-primary">Bookmark</a><a href="' + results_2[0][1] + '" class="btn btn-primary">Visit Site</a></div></div>

    </div>


    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <script>

        var index_1 = 0;
        var index_2 = 0;
        var index_3 = 0;
        var bookmarks_list = [];

        if (results_1.length != 0) {
            ++index_1;
            if(index_1 >= results_1.length) {
                index_1 = 0;
            }
            var html = '<div hidden id="card1" class="card" style="width: 10rem;"> <img style="max-height: 300px; max-width: 300px;" src="' + results_1[0][2] + '" class="card-img-top"> <div class="card-body"> <small>' + web1 + '</small> <h5 class="card-title" style="color: white">' + results_1[0][0] + '</h5><a id="dislike1" href="#" class="btn btn-primary">Dislike</a><a id="bookmark1" href="#" class="btn btn-primary">Bookmark</a><a href="' + results_1[0][1] + '" class="btn btn-primary">Visit Site</a></div></div>'
            $('.card-group').append(html);
        }

        if (results_2.length != 0) {
            ++index_2;
            if(index_2 >= results_2.length) {
                index_2 = 0;
            }
            var html = '<div hidden id="card2" class="card" style="width: 10rem;"> <img style="max-height: 300px; max-width: 300px;" src="' + results_2[0][2] + '" class="card-img-top"> <div class="card-body"> <small>' + web2 + '</small> <h5 class="card-title" style="color: white">' + results_2[0][0] + '</h5><a id="dislike1" href="#" class="btn btn-primary">Dislike</a><a id="bookmark1" href="#" class="btn btn-primary">Bookmark</a><a href="' + results_2[0][1] + '" class="btn btn-primary">Visit Site</a></div></div>'
            $('.card-group').append(html);
        }

        if (results_3.length != 0) {
            ++index_3;
            if(index_3 >= results_3.length) {
                index_3 = 0;
            }
            var html = '<div hidden id="card3" class="card" style="width: 10rem;"> <img style="max-height: 300px; max-width: 300px;" src="' + results_3[0][2] + '" class="card-img-top"> <div class="card-body"> <small>' + web3 + '</small> <h5 class="card-title" style="color: white">' + results_3[0][0] + '</h5><a id="dislike1" href="#" class="btn btn-primary">Dislike</a><a id="bookmark1" href="#" class="btn btn-primary">Bookmark</a><a href="' + results_3[0][1] + '" class="btn btn-primary">Visit Site</a></div></div>'
            $('.card-group').append(html);
        }

        function refresh1() {
            if (results_1.length != 0) {
                var html = '<div hidden id="card1" class="card" style="width: 10rem;"> <img style="max-height: 300px; max-width: 300px;" src="' + results_1[index_1][2] + '" class="card-img-top"> <div class="card-body"> <small>' + web1 + '</small> <h5 class="card-title" style="color: white">' + results_1[index_1][0] + '</h5><a id="dislike1" href="#" class="btn btn-primary">Dislike</a><a id="bookmark1" href="#" class="btn btn-primary">Bookmark</a><a href="' + results_1[index_1][1] + '" class="btn btn-primary">Visit Site</a></div></div>'
                $('#card1').replaceWith(html);
                ++index_1;
                if(index_1 >= results_1.length) {
                    index_1 = 0;
                }
            } else {
                $('#card1').replaceWith('');
            }
        }
        function refresh2() {

            if (results_2.length != 0) {
                var html = '<div hidden id="card2" class="card" style="width: 10rem;"> <img style="max-height: 300px; max-width: 300px;" src="' + results_2[index_2][2] + '" class="card-img-top"> <div class="card-body"> <small>' + web2 + '</small> <h5 class="card-title" style="color: white">' + results_2[index_2][0] + '</h5><a id="dislike1" href="#" class="btn btn-primary">Dislike</a><a id="bookmark1" href="#" class="btn btn-primary">Bookmark</a><a href="' + results_2[index_2][1] + '" class="btn btn-primary">Visit Site</a></div></div>'
                $('#card2').replaceWith(html);
                ++index_2;
                if(index_2 >= results_2.length) {
                    index_2 = 0;
                }
            } else {
                $('#card2').replaceWith('');
            }
        }

        function refresh3() {

            if (results_3.length != 0) {
                var html = '<div hidden id="card3" class="card" style="width: 10rem;"> <img style="max-height: 300px; max-width: 300px;" src="' + results_3[index_3][2] + '" class="card-img-top"> <div class="card-body"> <small>' + web3 + '</small> <h5 class="card-title" style="color: white">' + results_3[index_3][0] + '</h5><a id="dislike1" href="#" class="btn btn-primary">Dislike</a><a id="bookmark1" href="#" class="btn btn-primary">Bookmark</a><a href="' + results_1[index_3][1] + '" class="btn btn-primary">Visit Site</a></div></div>'
                $('#card3').replaceWith(html);
                ++index_3;
                if(index_3 >= results_3.length) {
                    index_3 = 0;
                }
            } else {
                $('#card3').replaceWith('');
            }
        }

        $(document).on('click', '#refresh', function () {
            refresh1();
            refresh2();
            refresh3();
        });

        $(document).on('click', '#dislike1', function () {
            results_1.splice(index_1, 1);
            --index_1;
            refresh1();
        });

        $(document).on('click', '#dislike2', function () {
            results_2.splice(index_2, 1);
            --index_2;
            refresh2();
        });

        $(document).on('click', '#dislike3', function () {
            results_3.splice(index_3, 1);
            --index_3;
            refresh3();
        });

        $(document).on('click', '#bookmark1', function () {
            bookmarks_list.push(results_1[index_1]);
            results_1.splice(index_1, 1);
            --index_1;
            refresh1();
        });

        $(document).on('click', '#bookmark2', function () {
            bookmarks_list.push(results_2[index_2]);
            results_2.splice(index_2, 1);
            --index_2;
            refresh2();
        });

        $(document).on('click', '#bookmark3', function () {
            bookmarks_list.push(results_3[index_3]);
            results_3.splice(index_3, 1);
            --index_3;
            refresh3();
        });
    </script>
</body>

</html>